<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Hostel Management</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="dashboard">
    <nav class="navbar">
        <h2>üè® Hostel Management</h2>
        <div class="nav-links">
            <a href="dashboard.html" class="active">Dashboard</a>
            <a href="rooms.html">Rooms</a>
            <a href="students.html">Students</a>
            <a href="bookings.html">Bookings</a>
            <a href="feedback.html">Feedback</a>
        </div>
        <button class="logout-btn" onclick="logout()">Logout</button>
    </nav>

    <div class="container">
        <h1 style="margin-bottom: 20px; color: #333;">Dashboard</h1>
        
        <div class="stats-grid" id="statsGrid">
            <!-- Stats will be loaded here -->
        </div>

        <div class="content-section">
            <h2>Welcome to Hostel Management System</h2>
            <p style="margin-top: 15px; color: #666;">
                Use the navigation menu to manage rooms, students, and bookings.
            </p>
        </div>
    </div>

    <script src="js/main.js"></script>
    <script>
        checkAuth();

        async function loadStats() {
            const stats = await apiCall('/stats');
            if (stats) {
                document.getElementById('statsGrid').innerHTML = `
                    <div class="stat-card">
                        <h3>Total Rooms</h3>
                        <div class="number">${stats.total_rooms}</div>
                    </div>
                    <div class="stat-card">
                        <h3>Available Rooms</h3>
                        <div class="number">${stats.available_rooms}</div>
                    </div>
                    <div class="stat-card">
                        <h3>Occupied Rooms</h3>
                        <div class="number">${stats.occupied_rooms}</div>
                    </div>
                    <div class="stat-card">
                        <h3>Total Students</h3>
                        <div class="number">${stats.total_students}</div>
                    </div>
                    <div class="stat-card">
                        <h3>Active Bookings</h3>
                        <div class="number">${stats.active_bookings}</div>
                    </div>
                    <div class="stat-card">
                        <h3>Total Revenue</h3>
                        <div class="number">$${stats.total_revenue}</div>
                    </div>
                `;
            }
        }

        loadStats();
    </script>
</body>
</html>
